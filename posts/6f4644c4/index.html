<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><link rel="apple-touch-icon" sizes="76x76" href="/img/apple-touch-icon.png"><link rel="icon" type="image/png" href="/img/favicon.png"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no,shrink-to-fit=no"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="theme-color" content="#2f4154"><meta name="description" content="ä¸€äº›ç»éªŒçš„è®°å½•ã€‚"><meta name="author" content="Dusty Posa"><meta name="keywords" content="python,python3,process,script"><title>å¥‡å¦™çš„å¯¹è±¡æ¨¡å‹åŠå­˜å‚¨æ•°æ®æ¨¡å‹çš„æŠ€å·§ - Posaã®ã«ã‚</title><link rel="stylesheet" href="https://cdn.staticfile.org/font-awesome/5.12.1/css/all.min.css"><link rel="stylesheet" href="https://cdn.staticfile.org/twitter-bootstrap/4.4.1/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.staticfile.org/mdbootstrap/4.13.0/css/mdb.min.css"><link rel="stylesheet" href="https://cdn.staticfile.org/github-markdown-css/3.0.1/github-markdown.min.css"><link rel="stylesheet" href="//at.alicdn.com/t/font_1067060_qzomjdt8bmp.css"><link rel="stylesheet" href="/lib/prettify/tomorrow-night-eighties.min.css"><link rel="stylesheet" href="/css/main.css"><link defer rel="stylesheet" href="https://cdn.staticfile.org/fancybox/3.5.7/jquery.fancybox.min.css"><meta name="generator" content="Hexo 4.2.1"></head><body><header style="height:70vh"><nav id="navbar" class="navbar fixed-top navbar-expand-lg navbar-dark scrolling-navbar"><div class="container"><a class="navbar-brand" href="/">&nbsp;<strong>Posaã®ã«ã‚</strong>&nbsp;</a> <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"><div class="animated-icon"><span></span><span></span><span></span></div></button><div class="collapse navbar-collapse" id="navbarSupportedContent"><ul class="navbar-nav ml-auto text-center"><li class="nav-item"><a class="nav-link" href="/">é¦–é¡µ</a></li><li class="nav-item"><a class="nav-link" href="/archives/">å½’æ¡£</a></li><li class="nav-item"><a class="nav-link" href="/categories/">åˆ†ç±»</a></li><li class="nav-item"><a class="nav-link" href="/tags/">æ ‡ç­¾</a></li><li class="nav-item"><a class="nav-link" href="/about/">å…³äº</a></li><li class="nav-item" id="search-btn"><a class="nav-link" data-toggle="modal" data-target="#modalSearch">&nbsp;&nbsp;<i class="iconfont icon-search"></i>&nbsp;&nbsp;</a></li></ul></div></div></nav><div class="view intro-2" id="background" parallax="true" style="background:url(https://i.loli.net/2020/04/14/smYH5uD8Pb7k4oI.png) no-repeat center center;background-size:cover"><div class="full-bg-img"><div class="mask rgba-black-light flex-center"><div class="container text-center white-text fadeInUp"><span class="h2" id="subtitle"></span><p class="mt-3 post-meta"><i class="fas fa-calendar-alt" aria-hidden="true"></i> æ˜ŸæœŸäºŒ, å››æœˆ 7æ—¥ 2020, 9:43 ä¸Šåˆ</p><p class="mt-1"><span class="post-meta"><i class="far fa-chart-bar"></i> 3.4k å­— </span><span class="post-meta"><i class="far fa-clock"></i> 15 åˆ†é’Ÿ</span></p></div></div></div></div></header><main><div class="container-fluid"><div class="row"><div class="d-none d-lg-block col-lg-2"></div><div class="col-lg-8 nopadding-md"><div class="container nopadding-md" id="board-ctn"><div class="py-5 z-depth-3" id="board"><div class="post-content mx-auto" id="post"><p class="note note-warning">æœ¬æ–‡æœ€åæ›´æ–°äºï¼šæ˜ŸæœŸä¸‰, ä¸€æœˆ 13æ—¥ 2021, 10:56 ä¸Šåˆ</p><div class="markdown-body"><h3 id="æ–¹ä¾¿çš„æ•°æ®ç»“æ„ä¹‹"><a href="#æ–¹ä¾¿çš„æ•°æ®ç»“æ„ä¹‹" class="headerlink" title="æ–¹ä¾¿çš„æ•°æ®ç»“æ„ä¹‹"></a>æ–¹ä¾¿çš„æ•°æ®ç»“æ„ä¹‹</h3><h2 id="namedtuple-ä¸-dataclass-ä»¥åŠ-ç±»ç»“æ„è¿›é˜¶çš„åŸºæœ¬ä½¿ç”¨"><a href="#namedtuple-ä¸-dataclass-ä»¥åŠ-ç±»ç»“æ„è¿›é˜¶çš„åŸºæœ¬ä½¿ç”¨" class="headerlink" title="namedtuple ä¸ dataclass ä»¥åŠ ç±»ç»“æ„è¿›é˜¶çš„åŸºæœ¬ä½¿ç”¨"></a>namedtuple ä¸ dataclass ä»¥åŠ ç±»ç»“æ„è¿›é˜¶çš„åŸºæœ¬ä½¿ç”¨</h2><h4 id="ç›®å½•"><a href="#ç›®å½•" class="headerlink" title="ç›®å½•"></a>ç›®å½•</h4><ul><li><a href="#namedtuple">namedtuple</a></li><li><a href="#dataclass">dataclass</a></li><li><a href="#Pythonå¯¹è±¡æ¨¡å‹">Pythonå¯¹è±¡æ¨¡å‹</a></li><li><a href="#ä¸€äº›é¢å¤–çš„è¡¥å……">è¡¥å……</a></li></ul><p>å…¶ä¸­ï¼Œ<code>nametuple</code> å’Œ <code>dataclasses</code> ä¸ªäººè§‰å¾—æ¯”è¾ƒç›¸ä¼¼ï¼Œè¿™ä¸¤ä¸ªéƒ½æ˜¯ç”¨æ¥ä¿å­˜æ•°æ®çš„ï¼Œæˆ‘ä»¬ä¸€èµ·æ¥çœ‹çœ‹åŒºåˆ«å§ã€‚</p><p>åœ¨pythonå†…ç½®æ¨¡å— <code>collections</code> ä¸­ï¼Œæœ‰ä¸€ä¸ªç±»ä¸º <code>nametuple</code> çœ‹åå­—æˆ‘ä»¬å¯ä»¥å¤§æ¦‚çŒœå‡ºæ„æ€ï¼Œæœ‰åå­—çš„å…ƒç»„ã€‚é‚£ä¹ˆï¼Œè¿™ä¸ª namedtuple åˆ°åº•èƒ½åšä»€ä¹ˆå‘¢ï¼Ÿ<br>æˆ‘ä»¬é€šè¿‡ä»£ç æ¥çœ‹ä¸€ä¸‹,</p><h2 id="namedtuple"><a href="#namedtuple" class="headerlink" title="namedtuple"></a>namedtuple</h2><pre><code class="python">from collections import namedtuple  # å¯¼å…¥æ¨¡å—</code></pre><pre><code class="python">food = namedtuple(&quot;Foods&quot;, [&quot;fruit&quot;, &quot;price&quot;])  # åˆå§‹åŒ–ä¸€ä¸ªå¯¹è±¡ï¼Œä½†æ˜¯å¹¶ä¸èƒ½ç›´æ¥ä½¿ç”¨ã€‚æˆ‘ä»¬éœ€è¦å‘å…¶ä¸­åŠ å…¥æ•°æ®ã€‚
food</code></pre><pre><code>__main__.Foods</code></pre><pre><code class="python">data_1 = food(fruit=&quot;apple&quot;, price=123)
data_1</code></pre><pre><code>Foods(fruit=&#39;apple&#39;, price=123)</code></pre><pre><code class="python"># è®¿é—®æ•°æ®
print(data_1.fruit)
print(data_1.price)</code></pre><pre><code>apple
123</code></pre><pre><code class="python"># å°è¯•æ›´æ”¹æ•°æ®
data_1.fruit = &quot;banana&quot;</code></pre><pre><code>---------------------------------------------------------------------------

AttributeError                            Traceback (most recent call last)

&lt;ipython-input-5-acfec753951a&gt; in &lt;module&gt;
      1 # å°è¯•æ›´æ”¹æ•°æ®
----&gt; 2 data_1.fruit = &quot;banana&quot;


AttributeError: can&#39;t set attribute</code></pre><h4 id="åŸºæœ¬æ“ä½œå°±æ˜¯å¦‚ä¸Šï¼Œå¯ä»¥çœ‹åˆ°æˆ‘ä»¬é€šè¿‡-namedtuple-å¯ä»¥è·å¾—ä¸€ä¸ªå¯¹è±¡ï¼Œå¹¶ä¸”å¯ä»¥é€šè¿‡å±æ€§è®¿é—®"><a href="#åŸºæœ¬æ“ä½œå°±æ˜¯å¦‚ä¸Šï¼Œå¯ä»¥çœ‹åˆ°æˆ‘ä»¬é€šè¿‡-namedtuple-å¯ä»¥è·å¾—ä¸€ä¸ªå¯¹è±¡ï¼Œå¹¶ä¸”å¯ä»¥é€šè¿‡å±æ€§è®¿é—®" class="headerlink" title="åŸºæœ¬æ“ä½œå°±æ˜¯å¦‚ä¸Šï¼Œå¯ä»¥çœ‹åˆ°æˆ‘ä»¬é€šè¿‡ namedtuple å¯ä»¥è·å¾—ä¸€ä¸ªå¯¹è±¡ï¼Œå¹¶ä¸”å¯ä»¥é€šè¿‡å±æ€§è®¿é—®."></a>åŸºæœ¬æ“ä½œå°±æ˜¯å¦‚ä¸Šï¼Œå¯ä»¥çœ‹åˆ°æˆ‘ä»¬é€šè¿‡ <code>namedtuple</code> å¯ä»¥è·å¾—ä¸€ä¸ªå¯¹è±¡ï¼Œå¹¶ä¸”å¯ä»¥é€šè¿‡å±æ€§è®¿é—®.</h4><h4 id="å¹¶ä¸”ä¸å…ƒç»„-tuple-ç›¸åŒï¼Œä¸èƒ½æ›´æ”¹å±æ€§ï¼Œä¹Ÿå°±æ˜¯å¯¹è±¡ä¸€æ—¦åˆ›ç«‹ï¼Œéä¸èƒ½æ›´æ”¹ï¼Œå³ä¸å¯å˜æ€§ä¾ç„¶ä¿æŒç€ã€‚"><a href="#å¹¶ä¸”ä¸å…ƒç»„-tuple-ç›¸åŒï¼Œä¸èƒ½æ›´æ”¹å±æ€§ï¼Œä¹Ÿå°±æ˜¯å¯¹è±¡ä¸€æ—¦åˆ›ç«‹ï¼Œéä¸èƒ½æ›´æ”¹ï¼Œå³ä¸å¯å˜æ€§ä¾ç„¶ä¿æŒç€ã€‚" class="headerlink" title="å¹¶ä¸”ä¸å…ƒç»„ tuple ç›¸åŒï¼Œä¸èƒ½æ›´æ”¹å±æ€§ï¼Œä¹Ÿå°±æ˜¯å¯¹è±¡ä¸€æ—¦åˆ›ç«‹ï¼Œéä¸èƒ½æ›´æ”¹ï¼Œå³ä¸å¯å˜æ€§ä¾ç„¶ä¿æŒç€ã€‚"></a>å¹¶ä¸”ä¸å…ƒç»„ <code>tuple</code> ç›¸åŒï¼Œä¸èƒ½æ›´æ”¹å±æ€§ï¼Œä¹Ÿå°±æ˜¯å¯¹è±¡ä¸€æ—¦åˆ›ç«‹ï¼Œéä¸èƒ½æ›´æ”¹ï¼Œå³ä¸å¯å˜æ€§ä¾ç„¶ä¿æŒç€ã€‚</h4><blockquote><p>é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œè¿™ç©æ„åˆ›å»ºæ­¥éª¤ä¹Ÿæ¯”è¾ƒéº»çƒ¦ã€‚åˆ°åº•æœ‰ä»€ä¹ˆç”¨å‘¢ï¼Ÿ</p></blockquote><h4 id="æé«˜ä»£ç å¯è¯»æ€§ï¼ï¼ï¼"><a href="#æé«˜ä»£ç å¯è¯»æ€§ï¼ï¼ï¼" class="headerlink" title="æé«˜ä»£ç å¯è¯»æ€§ï¼ï¼ï¼"></a><strong>æé«˜ä»£ç å¯è¯»æ€§ï¼ï¼ï¼</strong></h4><p>ä½ æ²¡çœ‹é”™ï¼Œå°±æ˜¯æé«˜ä»£ç å¯è¯»æ€§ã€‚<br>ä¸¾ä¸ªæ —å­ï¼š<br>ä½ éœ€è¦ç”¨ä¸€ä¸ªæ•°æ®ç»“æ„ä¿å­˜ä¸ä¼šå˜çš„ä¸œè¥¿ï¼Œæˆ‘ä»¬å‡è®¾è¿™ä¸ªä¸œè¥¿æ˜¯æ°´æœã€‚è¿™ä¸ªä¸œè¥¿éœ€è¦ä¿å­˜ä¸¤ä¸ªå€¼ï¼Œå‡è®¾å€¼åˆ†åˆ«ä¸º: apple 13ã€‚<br>æˆ‘ä»¬çœ‹çœ‹å…ƒç»„æ€ä¹ˆåšï¼š</p><pre><code class="python">data = (&quot;apple&quot;, 13)
data</code></pre><pre><code>(&#39;apple&#39;, 13)</code></pre><p>emmmâ€¦.å¯¹ï¼Œå¾ˆç®€å•ï¼ä¸€æ­¥å°±åˆå§‹åŒ–å‡ºæ¥äº†ï¼Œä½†æ˜¯æˆ‘ä»¬è¦è®¿é—®æ€ä¹ˆåŠå‘¢ï¼Ÿè¿™æ—¶å€™å°±åªèƒ½ç”¨ç´¢å¼•æˆ–è€…éå†äº†ï¼Œå¦‚ä¸‹ï¼š</p><pre><code class="python">print(data[0])
print(data[1])
for d in data:
    print(d)</code></pre><pre><code>apple
13
apple
13</code></pre><p><strong>è¿™æ—¶å€™å°±æœ‰é—®é¢˜äº†ï¼Œå¦‚æœè¿™æ˜¯ä½ è‡ªå·±å†™çš„ä»£ç è¿˜å¥½ï¼ŒçŸ¥é“æ•°æ®åœ¨å“ªä¸ªä½ç½®(ä½†æ˜¯æ•°æ®å¤šäº†ï¼Œæœ‰æ—¶ä¹Ÿä¼šå¿˜è®°)ï¼Œä½†æ˜¯å¦‚æœæ˜¯åˆ«äººæ¥çœ‹çš„è¯ï¼Œå¯èƒ½å°±æ¯”è¾ƒæ‡µé€¼äº†ï¼Œéœ€è¦ä¸æ–­çš„æŸ¥çœ‹ä»£ç æ®µã€‚</strong><br>åˆ«æ€•ï¼Œæˆ‘ä»¬æœ‰ <code>namedtuple</code> ï¼Œæ¥ï¼Œæˆ‘ä»¬çœ‹çœ‹ <code>namedtuple</code> æœ‰ä»€ä¹ˆç‰¹æ•ˆã€‚<br>æ•°æ®ï¼Œä¸¤ä¸ªå€¼ï¼Œé‚£ä¹ˆ è¿™ä¸¤ä¸ªå€¼è‚¯å®šæœ‰å«ä¹‰çš„å¯¹å§ï¼Œ å¯¹å§ï¼Ÿï¼ˆä¸è¦æŠ¬æ å“¦ï¼ï¼‰ï¼Œ æˆ‘ä»¬å‡è®¾å«ä¹‰æ˜¯ æ°´æœç§ç±» å’Œ ä»·æ ¼<br>é‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥å–ä¸¤ä¸ªåå­—ï¼Œä¸ºäº†æ–¹ä¾¿è®¤è¯†ï¼Œæˆ‘ä»¬å°±å« <code>fruit</code> å’Œ <code>name</code>å§ã€‚ï¼ˆä¸è¦å‘Šè¯‰æˆ‘ä½ è¦ç”¨ aï¼Œb å‘½åã€‚ã€‚å¦‚æœæ‰“ç®—è¿™æ ·å‘½åï¼Œè¿˜æ˜¯ç›´æ¥ç”¨å…ƒç»„å§ã€‚ï¼‰</p><pre><code class="python"># é¦–å…ˆå‘¢ï¼Œæˆ‘ä»¬åˆ›å»ºä¸€ä¸ªä¸å¯å˜çš„å®¹å™¨ï¼Œè¿™å®¹å™¨å°±å« Fruit å§ï¼Œè¿™ä¸ª Fruit å°±ä¿å­˜ä¸¤ä¸ªå€¼ï¼Œå–åå¦‚ä¸Š
super_fruit = namedtuple(&quot;Fruit&quot;, [&quot;name&quot;, &quot;price&quot;])  # åˆ›å»ºå®¹å™¨
# ä¿å­˜æ•°æ® gogogo
data = super_fruit(name=&quot;apple&quot;, price=13)
# ä¸€ä¸ªä¸å¤Ÿï¼Œå†æ¥ä¸€ä¸ª
data2 = super_fruit(name=&quot;big apple&quot;, price=26)
# ç»§ç»­è®¿é—®æ•°æ®
print(data.name, data.price)
print(data2.name, data2.price)</code></pre><pre><code>apple 13
big apple 26</code></pre><h4 id="åˆ’é‡ç‚¹-namedtuple"><a href="#åˆ’é‡ç‚¹-namedtuple" class="headerlink" title="åˆ’é‡ç‚¹ (namedtuple)"></a>åˆ’é‡ç‚¹ (namedtuple)</h4><p>é€šè¿‡ namedtuple æˆ‘ä»¬ä¹Ÿèƒ½å¾—åˆ°ä¸å¯å˜çš„æ•°æ®ç»“æ„ï¼Œå¹¶ä¸”å¯ä»¥é€šè¿‡å±æ€§æ¥è¿›è¡Œè®¿é—®ï¼Œå¤§å¤§æé«˜äº†ä»£ç çš„å¯è¯»æ€§ï¼Œå¹¶ä¸”æ›´åŠ  pythonic ã€‚<br>å¦‚æœ‰å…ƒç»„çš„æƒ…å†µï¼Œå¦‚æœç»“æ„æ¯”è¾ƒå¤æ‚çš„è¯ï¼Œå¼ºçƒˆæ¨èä½¿ç”¨å“¦ï¼<br><a href="#namedtuple_advance">namedtuple è¿›é˜¶</a></p><h3 id="è¿™ä¸ªç‰¹æ®Šçš„ä¸œè¥¿æˆ‘ä»¬å°±å…ˆæ‰“ä½ï¼Œæˆ‘ä»¬æ¢ä¸€ä¸ªæ–°ä¸œè¥¿-3-6-ä¸­çš„æ–°æ¨¡å—-dataclasses-ä¸­çš„-dataclass-æ²¡é”™ï¼Œè¿™ä¸ªä¹Ÿæ˜¯ç”¨æ¥ä¿å­˜æ•°æ®çš„ï¼Œå¹¶ä¸”å¯ä»¥æ•°æ®å¯å˜-ã€‚"><a href="#è¿™ä¸ªç‰¹æ®Šçš„ä¸œè¥¿æˆ‘ä»¬å°±å…ˆæ‰“ä½ï¼Œæˆ‘ä»¬æ¢ä¸€ä¸ªæ–°ä¸œè¥¿-3-6-ä¸­çš„æ–°æ¨¡å—-dataclasses-ä¸­çš„-dataclass-æ²¡é”™ï¼Œè¿™ä¸ªä¹Ÿæ˜¯ç”¨æ¥ä¿å­˜æ•°æ®çš„ï¼Œå¹¶ä¸”å¯ä»¥æ•°æ®å¯å˜-ã€‚" class="headerlink" title="è¿™ä¸ªç‰¹æ®Šçš„ä¸œè¥¿æˆ‘ä»¬å°±å…ˆæ‰“ä½ï¼Œæˆ‘ä»¬æ¢ä¸€ä¸ªæ–°ä¸œè¥¿ 3.6 ä¸­çš„æ–°æ¨¡å— dataclasses ä¸­çš„ dataclass(æ²¡é”™ï¼Œè¿™ä¸ªä¹Ÿæ˜¯ç”¨æ¥ä¿å­˜æ•°æ®çš„ï¼Œå¹¶ä¸”å¯ä»¥æ•°æ®å¯å˜)ã€‚"></a>è¿™ä¸ªç‰¹æ®Šçš„ä¸œè¥¿æˆ‘ä»¬å°±å…ˆæ‰“ä½ï¼Œæˆ‘ä»¬æ¢ä¸€ä¸ªæ–°ä¸œè¥¿ 3.6 ä¸­çš„æ–°æ¨¡å— dataclasses ä¸­çš„ dataclass(æ²¡é”™ï¼Œè¿™ä¸ªä¹Ÿæ˜¯ç”¨æ¥ä¿å­˜æ•°æ®çš„ï¼Œå¹¶ä¸”å¯ä»¥æ•°æ®å¯å˜)ã€‚</h3><p><code>dataclass</code> ç”¨æ¥å¹²ä»€ä¹ˆï¼Œ è€è§„çŸ©ï¼Œæˆ‘ä»¬å…ˆè®¾æƒ³ä¸€ä¸ªåœºæ™¯-ç”¨ç±»æ¥ä¿å­˜å±æ€§ï¼Œé€šè¿‡å±æ€§æ¥è®¿é—®å€¼ï¼Œæˆ‘ä»¬ç”¨æ­£å¸¸çš„ä»£ç æ¥çœ‹çœ‹ã€‚</p><h3 id="dataclass"><a href="#dataclass" class="headerlink" title="dataclass"></a>dataclass</h3><pre><code class="python"># å‡è®¾éœ€è¦ä¸€ä¸ªå¯¹è±¡ç±»ï¼Œä»£è¡¨æµ‹è¯•ç¯å¢ƒæ•°æ®åº“çš„è¿æ¥ï¼Œæˆ‘ä»¬éœ€è¦ç»™ä¸€å †å±æ€§ç”¨äºé…ç½®, å¹¶æ·»åŠ é»˜è®¤å‚æ•°
class TestEnv:
    def __init__(self, port=3306, host=&quot;localhost&quot;, db=&quot;test_database&quot;, tb_name=&quot;table_name&quot;):
        self.port = port
        self.host = host
        self.db = db
        self.tb_name = tb_name
&quot;&quot;&quot;å½“ç„¶ï¼Œä½ ä¹Ÿå¯ä»¥è¿™æ ·å†™ï¼š
class TestEnv:
    def __init__(self):
        self.port = 3306
        self.host = &quot;localhost&quot;
        self.db = &quot;test_database&quot;
        self.tb_name = &quot;table_name&quot;
&quot;&quot;&quot;
# æˆ‘ä»¬æ¥ç‚¹ pythonic çš„å†™æ³•ï¼ŒåŠ ä¸Šç±»å‹æ³¨é‡Š
class PythonicTestEnv:
    def __init__(self, port: int=3306, host: str=&quot;localhost&quot;, db: str=&quot;test_database&quot;, tb_name: str=&quot;table_name&quot;):
        self.port = port
        self.host = host
        self.db = db
        self.tb_name = tb_name</code></pre><p>æˆ‘ä»¬å®ä¾‹åŒ–å¯¹è±¡åæŸ¥çœ‹ä¸€ä¸‹å±æ€§</p><pre><code class="python">env = TestEnv()
print(env.port)
print(env.tb_name)

env = PythonicTestEnv()
print(env.port)
print(env.tb_name)</code></pre><pre><code>3306
table_name
3306
table_name</code></pre><p>å½“ç„¶ï¼Œå±æ€§ä¸ <code>namedtuple</code> ä¸åŒï¼Œæ˜¯å¯ä»¥æ”¹å˜çš„ã€‚</p><pre><code class="python">env.port = 3308
print(env.port)
env</code></pre><pre><code>3308
&gt;&gt;&gt; &lt;__main__.PythonicTestEnv at 0x104092be0&gt;</code></pre><p>æ‰€æœ‰è¦ä¿è¯æ•°æ®çš„ä¸å¯å˜æ€§çš„è¯ï¼Œè¿˜æ˜¯æ¨èä½¿ç”¨ <code>namedtuple</code>, ä½†æ˜¯å¯¹äºè¿™ç§çº¯æ•°æ®çš„å¯¹è±¡è¿™æ ·å†™æ¯”è¾ƒç¹çï¼Œæ‰€ä»¥ï¼Œä½•ä¸è¯•è¯•æ–°æ–¹æ³•ï½ goï¼</p><pre><code class="python">from dataclasses import dataclass</code></pre><pre><code class="python">@dataclass
class DCTestEnv:
    port: int=3306
    host: str=&quot;localhost&quot;
    db: str=&quot;test_database&quot;
    tb_name: str=&quot;table_name&quot;</code></pre><pre><code class="python">env = DCTestEnv()
print(env.port)
print(env.tb_name)
env</code></pre><pre><code>3306
table_name
&gt;&gt;&gt;  DCTestEnv(port=3306, host=&#39;localhost&#39;, db=&#39;test_database&#39;, tb_name=&#39;table_name&#39;)</code></pre><p><strong>çœ‹ï¼Œæ˜¯ä¸æ˜¯ä¸€æ°”å‘µæˆï¼Œç®€å•æ–¹ä¾¿ã€‚</strong><br>ç»†å¿ƒçš„åŒå­¦å¯èƒ½ä¼šå‘ç°ï¼Œå½“å¯¹è±¡åœ¨äº¤äº’æ¨¡å¼å‡ºç°æ—¶ï¼Œ<strong>è¾“å‡ºçš„ç»“æœä¸ä¸€æ ·ï¼</strong><br>æ²¡é”™ <code>dataclass</code> è¿˜å¸®æˆ‘ä»¬æŠŠ <code>__repr__</code> ä¹Ÿé‡å†™å¥½äº†(<strong>åˆ’é‡ç‚¹</strong>)ï¼æ˜¯ä¸æ˜¯å¾ˆæ–¹ä¾¿ï¼æ²¡é”™ dataclass æœ€é‡è¦çš„å°±æ˜¯ çœä»£ç ï¼çœä»£ç ï¼çœä»£ç ï¼ é‡è¦çš„äº‹è¯´ä¸‰éï¼æ–¹ä¾¿å¿«æ·ï¼Œé€‰ä»–æ²¡é”™ï¼</p><blockquote><p>ä½†å…¶å®ä¸æ­¢è¿™äº›æ–¹æ³•ï¼Œ<code>dataclass</code> è¿˜å¸®æˆ‘ä»¬é‡å†™äº† __eq__ ä»€ä¹ˆçš„ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥é‡å†™è¿™äº›æ–¹æ³•ã€‚</p></blockquote><p><strong>å¥½äº†ï¼Œå°æŠ€å·§å¼•å…¥å®Œäº†ï¼Œæˆ‘ä»¬æ¥è¿›å…¥æ­£é¢˜ï¼Œé¢å‘å¯¹è±¡çŸ¥è¯†çš„è¿›é˜¶ï¼</strong></p><h2 id="Pythonå¯¹è±¡æ¨¡å‹"><a href="#Pythonå¯¹è±¡æ¨¡å‹" class="headerlink" title="Pythonå¯¹è±¡æ¨¡å‹"></a>Pythonå¯¹è±¡æ¨¡å‹</h2><p>è¿™é‡Œæˆ‘ä»¬é€šè¿‡ä¸¤ä¸ªå¯¹è±¡æ¥å¼•å…¥ï¼š</p><ul><li>å¡ç‰Œ</li><li>å‘é‡</li></ul><h4 id="å¡ç‰Œå¯¹è±¡-FrenchDeck"><a href="#å¡ç‰Œå¯¹è±¡-FrenchDeck" class="headerlink" title="å¡ç‰Œå¯¹è±¡(FrenchDeck)"></a>å¡ç‰Œå¯¹è±¡(FrenchDeck)</h4><p>è¿™æ˜¯ä¸€å‰¯æ‰‘å…‹ï¼Œè®°å½•äº†æ‰‘å…‹çš„æ‰€æœ‰å¡ç‰Œã€‚</p><ul><li>æœ‰ä¸€ä¸ª _cards å±æ€§ä¿å­˜äº†æ‰€æœ‰çš„å¡ç‰Œï¼Œæ¯ä¸€å¼ å¡ç‰Œåªæœ‰èŠ±è‰²å’Œå¡ç‰Œå¤§å°</li></ul><p>è¦æ˜¯ä½ ä¼šæ€ä¹ˆè®¾è®¡è¿™ä¸ªå¯¹è±¡å‘¢ï¼Ÿ<br>æˆ‘ä»¬æ¥çœ‹çœ‹å¸¸è§„æ€è·¯ã€‚</p><ul><li>å› ä¸ºå¡ç‰Œæ¯”è¾ƒå¤šï¼Œæ‰€ä»¥è¿™ä¸ª _cards è‚¯å®šæ˜¯å¾ªç¯ç”Ÿæˆçš„ã€‚</li><li>å› ä¸ºæ¯å¼ å¡ç‰Œå›ºå®šæœ‰ä¸¤ä¸ªå±æ€§ï¼Œæ‰€ä»¥æˆ‘ä»¬ç”¨ä¸å¯å˜å¯¹è±¡æ¥ä¿å­˜èƒ½æ›´èŠ‚çœç©ºé—´ã€‚</li><li>ä¸å¯å˜å¯¹è±¡ï¼Œè¦ä¿å­˜èŠ±è‰²å’Œå¡ç‰Œï¼Œæˆ‘ä»¬å¯ä»¥ç”¨å­—ç¬¦ä¸²æˆ–è€…å…ƒç»„æ¥å®ç°ã€‚</li><li>ä½†æ˜¯å­—ç¬¦ä¸²è‚¯å®šä¸å¤ªåˆé€‚ï¼ŒèŠ±è‰²å’Œå¤§å°ç›¸å…³åº¦ä¸æ˜¯å¾ˆé«˜ï¼Œä¹Ÿä¸ä¾¿äºç»´æŠ¤ã€‚</li><li>æ‰€ä»¥æˆ‘ä»¬ç”¨å…ƒç»„æ¥å®ç°ã€‚</li></ul><p>ä»£ç å¦‚ä¸‹ï¼š</p><pre><code class="python">class FrenchDeck:
    ranks = [str(i) for i in range(2, 11)] + list(&#39;JDKA&#39;)
    suits = [&quot;é»‘æ¡ƒ&quot;, &quot;æ–¹å—&quot;, &quot;æ¢…èŠ±&quot;, &quot;çº¢æ¡ƒ&quot;]
    def __init__(self):
        self._cards = [(suit, rank) for suit in self.suits
                     for rank in self.ranks]</code></pre><p><strong>æˆ‘ä»¬å®ä¾‹åŒ–å¯¹è±¡çœ‹çœ‹æ•ˆæœ</strong></p><pre><code class="python">puke_cards = FrenchDeck()
puke_cards._cards</code></pre><pre><code>[(&#39;é»‘æ¡ƒ&#39;, &#39;2&#39;),
 (&#39;é»‘æ¡ƒ&#39;, &#39;3&#39;),
 (&#39;é»‘æ¡ƒ&#39;, &#39;4&#39;),
 (&#39;é»‘æ¡ƒ&#39;, &#39;5&#39;),
 (&#39;é»‘æ¡ƒ&#39;, &#39;6&#39;),
 (&#39;é»‘æ¡ƒ&#39;, &#39;7&#39;),
 (&#39;é»‘æ¡ƒ&#39;, &#39;8&#39;),
 (&#39;é»‘æ¡ƒ&#39;, &#39;9&#39;),
 (&#39;é»‘æ¡ƒ&#39;, &#39;10&#39;),
 (&#39;é»‘æ¡ƒ&#39;, &#39;J&#39;),
 (&#39;é»‘æ¡ƒ&#39;, &#39;D&#39;),
 (&#39;é»‘æ¡ƒ&#39;, &#39;K&#39;),
 (&#39;é»‘æ¡ƒ&#39;, &#39;A&#39;),
 (&#39;æ–¹å—&#39;, &#39;2&#39;),
 (&#39;æ–¹å—&#39;, &#39;3&#39;),
 (&#39;æ–¹å—&#39;, &#39;4&#39;),
 (&#39;æ–¹å—&#39;, &#39;5&#39;),
 (&#39;æ–¹å—&#39;, &#39;6&#39;),
 (&#39;æ–¹å—&#39;, &#39;7&#39;),
 (&#39;æ–¹å—&#39;, &#39;8&#39;),
 (&#39;æ–¹å—&#39;, &#39;9&#39;),
 (&#39;æ–¹å—&#39;, &#39;10&#39;),
 (&#39;æ–¹å—&#39;, &#39;J&#39;),
 (&#39;æ–¹å—&#39;, &#39;D&#39;),
 (&#39;æ–¹å—&#39;, &#39;K&#39;),
 (&#39;æ–¹å—&#39;, &#39;A&#39;),
 (&#39;æ¢…èŠ±&#39;, &#39;2&#39;),
 (&#39;æ¢…èŠ±&#39;, &#39;3&#39;),
 (&#39;æ¢…èŠ±&#39;, &#39;4&#39;),
 (&#39;æ¢…èŠ±&#39;, &#39;5&#39;),
 (&#39;æ¢…èŠ±&#39;, &#39;6&#39;),
 (&#39;æ¢…èŠ±&#39;, &#39;7&#39;),
 (&#39;æ¢…èŠ±&#39;, &#39;8&#39;),
 (&#39;æ¢…èŠ±&#39;, &#39;9&#39;),
 (&#39;æ¢…èŠ±&#39;, &#39;10&#39;),
 (&#39;æ¢…èŠ±&#39;, &#39;J&#39;),
 (&#39;æ¢…èŠ±&#39;, &#39;D&#39;),
 (&#39;æ¢…èŠ±&#39;, &#39;K&#39;),
 (&#39;æ¢…èŠ±&#39;, &#39;A&#39;),
 (&#39;çº¢æ¡ƒ&#39;, &#39;2&#39;),
 (&#39;çº¢æ¡ƒ&#39;, &#39;3&#39;),
 (&#39;çº¢æ¡ƒ&#39;, &#39;4&#39;),
 (&#39;çº¢æ¡ƒ&#39;, &#39;5&#39;),
 (&#39;çº¢æ¡ƒ&#39;, &#39;6&#39;),
 (&#39;çº¢æ¡ƒ&#39;, &#39;7&#39;),
 (&#39;çº¢æ¡ƒ&#39;, &#39;8&#39;),
 (&#39;çº¢æ¡ƒ&#39;, &#39;9&#39;),
 (&#39;çº¢æ¡ƒ&#39;, &#39;10&#39;),
 (&#39;çº¢æ¡ƒ&#39;, &#39;J&#39;),
 (&#39;çº¢æ¡ƒ&#39;, &#39;D&#39;),
 (&#39;çº¢æ¡ƒ&#39;, &#39;K&#39;),
 (&#39;çº¢æ¡ƒ&#39;, &#39;A&#39;)]</code></pre><p>emmmm..æœ‰ç‚¹æ„Ÿè§‰ï¼Œæˆ‘ä»¬è¯•ç€éšæœºè®¿é—®å‡ ä¸ªå…ƒç´ çœ‹çœ‹</p><pre><code class="python">from random import randint

for i in range(3):
    card = puke_cards._cards[randint(0, 53)]
    print(card, card[0], card[1])</code></pre><pre><code>(&#39;æ¢…èŠ±&#39;, &#39;7&#39;) æ¢…èŠ± 7
(&#39;æ¢…èŠ±&#39;, &#39;J&#39;) æ¢…èŠ± J
(&#39;æ–¹å—&#39;, &#39;J&#39;) æ–¹å— J</code></pre><blockquote><p>å…ƒç´ æ¯”è¾ƒå°‘ï¼Œè¿˜èƒ½å‹‰å¼ºçŒœå‡ºæ„æ€ã€‚æˆ‘ä»¬ç”¨åˆšå­¦çš„ nametuple æ¥çœ‹çœ‹ã€‚</p></blockquote><h4 id="nametuple-å‚ä¸åˆ›å»ºå¡ç‰Œ"><a href="#nametuple-å‚ä¸åˆ›å»ºå¡ç‰Œ" class="headerlink" title="nametuple å‚ä¸åˆ›å»ºå¡ç‰Œ"></a>nametuple å‚ä¸åˆ›å»ºå¡ç‰Œ</h4><pre><code class="python">import collections

Card = collections.namedtuple(&#39;Card&#39;, [&#39;rank&#39;, &#39;suit&#39;])


class FrenchDeck:
    ranks = [str(n) for n in range(2, 11)] + list(&#39;JQKA&#39;)
    suits = &#39;é»‘æ¡ƒ æ–¹å— æ¢…èŠ± çº¢æ¡ƒ&#39;.split()

    def __init__(self):
        self._cards = [Card(rank, suit) for suit in self.suits
                       for rank in self.ranks]

    def __len__(self):
        return len(self._cards)

    def __getitem__(self, position):
        return self._cards[position]
</code></pre><pre><code class="python">print(FrenchDeck.ranks)  # ç”Ÿæˆéœ€è¦çš„å¡ç‰Œåˆ—è¡¨
FrenchDeck.suits  # å¡ç‰ŒèŠ±è‰²</code></pre><pre><code> [&#39;2&#39;, &#39;3&#39;, &#39;4&#39;, &#39;5&#39;, &#39;6&#39;, &#39;7&#39;, &#39;8&#39;, &#39;9&#39;, &#39;10&#39;, &#39;J&#39;, &#39;Q&#39;, &#39;K&#39;, &#39;A&#39;]
 &gt;&gt;&gt; [&#39;é»‘æ¡ƒ&#39;, &#39;æ–¹å—&#39;, &#39;æ¢…èŠ±&#39;, &#39;çº¢æ¡ƒ&#39;]</code></pre><pre><code class="python">fcards = FrenchDeck()  # å®ä¾‹åŒ–å¯¹è±¡
fcards._cards  # æŸ¥çœ‹ä»¥ä¸‹ nametuple çš„å‡ºæ¥çš„å¡ç‰Œï¼Œæ˜¯ä¸æ˜¯æ›´åŠ ç›´è§‚å¥½çœ‹</code></pre><pre><code>[Card(rank=&#39;2&#39;, suit=&#39;é»‘æ¡ƒ&#39;),
 Card(rank=&#39;3&#39;, suit=&#39;é»‘æ¡ƒ&#39;),
 Card(rank=&#39;4&#39;, suit=&#39;é»‘æ¡ƒ&#39;),
 Card(rank=&#39;5&#39;, suit=&#39;é»‘æ¡ƒ&#39;),
 Card(rank=&#39;6&#39;, suit=&#39;é»‘æ¡ƒ&#39;),
 Card(rank=&#39;7&#39;, suit=&#39;é»‘æ¡ƒ&#39;),
 Card(rank=&#39;8&#39;, suit=&#39;é»‘æ¡ƒ&#39;),
 Card(rank=&#39;9&#39;, suit=&#39;é»‘æ¡ƒ&#39;),
 Card(rank=&#39;10&#39;, suit=&#39;é»‘æ¡ƒ&#39;),
 Card(rank=&#39;J&#39;, suit=&#39;é»‘æ¡ƒ&#39;),
 Card(rank=&#39;Q&#39;, suit=&#39;é»‘æ¡ƒ&#39;),
 Card(rank=&#39;K&#39;, suit=&#39;é»‘æ¡ƒ&#39;),
 Card(rank=&#39;A&#39;, suit=&#39;é»‘æ¡ƒ&#39;),
 Card(rank=&#39;2&#39;, suit=&#39;æ–¹å—&#39;),
 Card(rank=&#39;3&#39;, suit=&#39;æ–¹å—&#39;),
 Card(rank=&#39;4&#39;, suit=&#39;æ–¹å—&#39;),
 Card(rank=&#39;5&#39;, suit=&#39;æ–¹å—&#39;),
 Card(rank=&#39;6&#39;, suit=&#39;æ–¹å—&#39;),
 Card(rank=&#39;7&#39;, suit=&#39;æ–¹å—&#39;),
 Card(rank=&#39;8&#39;, suit=&#39;æ–¹å—&#39;),
 Card(rank=&#39;9&#39;, suit=&#39;æ–¹å—&#39;),
 Card(rank=&#39;10&#39;, suit=&#39;æ–¹å—&#39;),
 Card(rank=&#39;J&#39;, suit=&#39;æ–¹å—&#39;),
 Card(rank=&#39;Q&#39;, suit=&#39;æ–¹å—&#39;),
 Card(rank=&#39;K&#39;, suit=&#39;æ–¹å—&#39;),
 Card(rank=&#39;A&#39;, suit=&#39;æ–¹å—&#39;),
 Card(rank=&#39;2&#39;, suit=&#39;æ¢…èŠ±&#39;),
 Card(rank=&#39;3&#39;, suit=&#39;æ¢…èŠ±&#39;),
 Card(rank=&#39;4&#39;, suit=&#39;æ¢…èŠ±&#39;),
 Card(rank=&#39;5&#39;, suit=&#39;æ¢…èŠ±&#39;),
 Card(rank=&#39;6&#39;, suit=&#39;æ¢…èŠ±&#39;),
 Card(rank=&#39;7&#39;, suit=&#39;æ¢…èŠ±&#39;),
 Card(rank=&#39;8&#39;, suit=&#39;æ¢…èŠ±&#39;),
 Card(rank=&#39;9&#39;, suit=&#39;æ¢…èŠ±&#39;),
 Card(rank=&#39;10&#39;, suit=&#39;æ¢…èŠ±&#39;),
 Card(rank=&#39;J&#39;, suit=&#39;æ¢…èŠ±&#39;),
 Card(rank=&#39;Q&#39;, suit=&#39;æ¢…èŠ±&#39;),
 Card(rank=&#39;K&#39;, suit=&#39;æ¢…èŠ±&#39;),
 Card(rank=&#39;A&#39;, suit=&#39;æ¢…èŠ±&#39;),
 Card(rank=&#39;2&#39;, suit=&#39;çº¢æ¡ƒ&#39;),
 Card(rank=&#39;3&#39;, suit=&#39;çº¢æ¡ƒ&#39;),
 Card(rank=&#39;4&#39;, suit=&#39;çº¢æ¡ƒ&#39;),
 Card(rank=&#39;5&#39;, suit=&#39;çº¢æ¡ƒ&#39;),
 Card(rank=&#39;6&#39;, suit=&#39;çº¢æ¡ƒ&#39;),
 Card(rank=&#39;7&#39;, suit=&#39;çº¢æ¡ƒ&#39;),
 Card(rank=&#39;8&#39;, suit=&#39;çº¢æ¡ƒ&#39;),
 Card(rank=&#39;9&#39;, suit=&#39;çº¢æ¡ƒ&#39;),
 Card(rank=&#39;10&#39;, suit=&#39;çº¢æ¡ƒ&#39;),
 Card(rank=&#39;J&#39;, suit=&#39;çº¢æ¡ƒ&#39;),
 Card(rank=&#39;Q&#39;, suit=&#39;çº¢æ¡ƒ&#39;),
 Card(rank=&#39;K&#39;, suit=&#39;çº¢æ¡ƒ&#39;),
 Card(rank=&#39;A&#39;, suit=&#39;çº¢æ¡ƒ&#39;)]</code></pre><p>åŒæ ·æˆ‘ä»¬è®¿é—®å…ƒç´ çœ‹çœ‹</p><pre><code class="python">for i in range(3):
    card = fcards._cards[randint(0, 53)]
    print(card, card.rank, card.suit)</code></pre><pre><code>Card(rank=&#39;5&#39;, suit=&#39;æ–¹å—&#39;) 5 æ–¹å—
Card(rank=&#39;5&#39;, suit=&#39;é»‘æ¡ƒ&#39;) 5 é»‘æ¡ƒ
Card(rank=&#39;J&#39;, suit=&#39;çº¢æ¡ƒ&#39;) J çº¢æ¡ƒ</code></pre><blockquote><p>é€šè¿‡å±æ€§è®¿é—®ï¼Œæ˜¯ä¸æ˜¯å¯è¯»æ€§æé«˜å¾ˆå¤šäº†å‘¢ï¼Ÿ</p></blockquote><h3 id="å¥‡å¦™çš„å¯¹è±¡æ¨¡å‹"><a href="#å¥‡å¦™çš„å¯¹è±¡æ¨¡å‹" class="headerlink" title="å¥‡å¦™çš„å¯¹è±¡æ¨¡å‹"></a>å¥‡å¦™çš„å¯¹è±¡æ¨¡å‹</h3><h4 id="ç¥å¥‡çš„é­”æœ¯æ–¹æ³•ï¼ˆmagic-mthodï¼‰-æˆ–è€…-åŒä¸‹æ–¹æ³•ï¼ˆdunder-methodï¼‰"><a href="#ç¥å¥‡çš„é­”æœ¯æ–¹æ³•ï¼ˆmagic-mthodï¼‰-æˆ–è€…-åŒä¸‹æ–¹æ³•ï¼ˆdunder-methodï¼‰" class="headerlink" title="ç¥å¥‡çš„é­”æœ¯æ–¹æ³•ï¼ˆmagic mthodï¼‰ æˆ–è€… åŒä¸‹æ–¹æ³•ï¼ˆdunder methodï¼‰"></a>ç¥å¥‡çš„é­”æœ¯æ–¹æ³•ï¼ˆmagic mthodï¼‰ æˆ–è€… åŒä¸‹æ–¹æ³•ï¼ˆdunder methodï¼‰</h4><p>ä»Šå¤©æˆ‘ä»¬ä»‹ç»ä¸¤ä¸ªç®€å•çš„é­”æœ¯æ–¹æ³•ï¼Œå› ä¸ºé­”æœ¯æ–¹æ³•å¾ˆå¤šä»¥åä¼šæ…¢æ…¢æ·»åŠ ã€‚</p><ul><li><code>__len__</code></li><li><code>__getitem__</code></li></ul><p>å¯ä»¥çœ‹åå­—ç›´æ¥çŒœçŒœæ„æ€å“¦ï¼</p><h4 id="len"><a href="#len" class="headerlink" title="__len__"></a><code>__len__</code></h4><pre><code class="python"># len:
class A:
    def __len__(self):
        print(&quot;Attention __len__ is called!!!&quot;)
        return 12</code></pre><p>å…¶å®çœ‹åå­—æˆ‘ä»¬å°±èƒ½çŒœå‡ºä¸ªå…«ä¹ä¸ç¦»åï¼Œè‚¯å®šå’Œé•¿åº¦æœ‰å…³å˜›ã€‚é¦–å…ˆéšä¾¿å®šä¹‰ä¸€ä¸ªç±»ï¼Œçœ‹çœ‹æœ‰ä»€ä¹ˆç¥å¥‡çš„æ•ˆæœï¼</p><pre><code class="python">test_len = A()
len(test_len)</code></pre><pre><code>Attention __len__ is called!!!
&gt;&gt;&gt;  12</code></pre><p>æ²¡é”™ï¼Œå…¶å® <code>len(object)</code> æ—¶ï¼Œå°±æ˜¯é‡è½½äº† <code>object.__len__</code>æ–¹æ³•ï¼Œä¸è¿‡ç”¨ <code>len(obj)</code> çœ‹èµ·æ¥æ›´åŠ ä¼˜é›…å“¦ã€‚<br>next oneï¼</p><h4 id="getitem"><a href="#getitem" class="headerlink" title="__getitem__"></a><code>__getitem__</code></h4><pre><code class="python">class B:
    def __getitem__(self, item):
        print(item)
        return &quot;Attention item is calling&quot;</code></pre><pre><code class="python">B()[0]</code></pre><pre><code>0
&gt;&gt;&gt; &#39;Attention item is calling&#39;</code></pre><p>æ²¡é”™ <code>__getitem__</code> å°±æ˜¯å½“ç´¢å¼•å¯¹è±¡æ—¶é‡è½½çš„æ–¹æ³•ã€‚<br>å½“ç„¶ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ä¼ ä¸€äº›å¥‡æ€ªçš„ç´¢å¼•ç»™å¯¹è±¡ï¼</p><pre><code class="python">B()[&quot;pythonic!&quot;]</code></pre><pre><code>pythonic!
&gt;&gt;&gt;  &#39;Attention item is calling&#39;</code></pre><blockquote><p>!æ²¡é”™ï¼è¿™å°±å˜æˆå­—å…¸çš„ç´¢å¼•ï¼æ˜¯ä¸æ˜¯å¾ˆç¥å¥‡å‘¢ï¼Ÿ<br>ä½†æ˜¯æœ‰äº›æ—¶å€™é‡å†™è¿™ä¸¤ä¸ªæ–¹æ³•ä¹Ÿä¸æ˜¯ä¸€ä»¶å®¹æ˜“çš„äº‹ï¼Œä½†æ˜¯æˆ‘ä»¬å¯ä»¥å·å·æ‡’ã€‚<br>å¦‚åŒå®šä¹‰ FrenchDeck çš„æ“ä½œã€‚<br>åˆ©ç”¨åŸå¯¹è±¡çš„ç‰¹æ€§ï¼æˆ‘ä»¬è®© FrenchDeck ä¹Ÿå…·æœ‰äº†é•¿åº¦å’Œç´¢å¼•çš„æŠ€èƒ½ï¼</p></blockquote><pre><code class="python">len(fcards)</code></pre><pre><code>52</code></pre><pre><code class="python">fcards[randint(0, 53)]</code></pre><pre><code>Card(rank=&#39;J&#39;, suit=&#39;çº¢æ¡ƒ&#39;)</code></pre><p><strong>å¦‚æœè‡ªå®šä¹‰å¯¹è±¡ä¹Ÿéœ€è¦è¿™ä¸¤ä¸ªæ–¹æ³•çš„æ—¶å€™ï¼Œå¯ä»¥é‡ç‚¹ç ”ç©¶å°è¯•ä¸€ä¸‹ï¼</strong></p><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p>å­¦åˆ°å“ªï¼Œæ€»ç»“åˆ°å“ªï¼æˆ‘ä»¬ç®€å•å›é¡¾ä¸€ä¸‹æˆ‘ä»¬å­¦çš„ï¼š</p><ul><li><a href="#namedtuple">ç¥å¥‡çš„å…ƒç»„ï¼ˆnamedtupleï¼‰</a><ul><li>ç”¨å¯¹è±¡å±æ€§è®¿é—®å€¼çš„å…ƒç»„ï¼æ›´åŠ  pythonic ï¼</li></ul></li><li><a href="#dataclass">ç®€ä¾¿çš„æ•°æ®æ¨¡å‹ ï¼ˆdataclassï¼‰</a><ul><li>å‡ è¡Œä»£ç åˆ›å»ºä¸€ä¸ªæ•°æ®æ¨¡å‹ç±»ï¼æ–¹ä¾¿å¿«æ·ï¼</li></ul></li><li><a href="#å¥‡å¦™çš„å¯¹è±¡æ¨¡å‹">å¥‡å¦™çš„å¯¹è±¡æ¨¡å‹</a><ul><li><a href="#`__len__`"><code>__len__</code></a></li><li><a href="#`__getitem__`"><code>__getitem__</code></a></li></ul></li></ul><h3 id="ä¸€äº›é¢å¤–çš„è¡¥å……"><a href="#ä¸€äº›é¢å¤–çš„è¡¥å……" class="headerlink" title="ä¸€äº›é¢å¤–çš„è¡¥å……"></a>ä¸€äº›é¢å¤–çš„è¡¥å……</h3><ul><li><h4 id="ä¸€äº›å¸¸è§çš„è¿ç®—é­”æœ¯æ–¹æ³•ã€‚"><a href="#ä¸€äº›å¸¸è§çš„è¿ç®—é­”æœ¯æ–¹æ³•ã€‚" class="headerlink" title="ä¸€äº›å¸¸è§çš„è¿ç®—é­”æœ¯æ–¹æ³•ã€‚"></a>ä¸€äº›å¸¸è§çš„è¿ç®—é­”æœ¯æ–¹æ³•ã€‚</h4></li><li><h4 id="namedtuple-çš„é«˜é˜¶ä½¿ç”¨ã€‚"><a href="#namedtuple-çš„é«˜é˜¶ä½¿ç”¨ã€‚" class="headerlink" title="namedtuple çš„é«˜é˜¶ä½¿ç”¨ã€‚"></a>namedtuple çš„é«˜é˜¶ä½¿ç”¨ã€‚</h4></li></ul><p><b>æœ¬æ–‡åœ°å€ï¼š <a href="https://dustyposa.github.com/posts/6f4644c4/">https://dustyposa.github.com/posts/6f4644c4/</a></b></p></div><hr><div><p><span><i class="iconfont icon-inbox"></i> <a class="hover-with-bg" href="/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/">æ•°æ®ç»“æ„</a> &nbsp; </span>&nbsp;&nbsp; <span><i class="iconfont icon-tag"></i> <a class="hover-with-bg" href="/tags/python/">python</a> <a class="hover-with-bg" href="/tags/advance/">advance</a></span></p><p class="note note-warning">æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <a href="https://zh.wikipedia.org/wiki/Wikipedia:CC_BY-SA_3.0%E5%8D%8F%E8%AE%AE%E6%96%87%E6%9C%AC" target="_blank" rel="nofollow noopener noopener">CC BY-SA 3.0åè®®</a> ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</p><div class="post-prevnext row"><div class="post-prev col-6"><a href="/posts/1a1d0279/"><i class="fa fa-chevron-left"></i> <span class="hidden-mobile">pythonå‘æ–‡æœ¬ä¸­æ’å…¥æ–‡å­—</span> <span class="visible-mobile">ä¸Šä¸€ç¯‡</span></a></div><div class="post-next col-6"><a href="/posts/841d9ffa/"><span class="hidden-mobile">python è¯·æ±‚åˆ†æåŠå¤šæå–å™¨ æå–æ•°æ®</span> <span class="visible-mobile">ä¸‹ä¸€ç¯‡</span> <i class="fa fa-chevron-right"></i></a></div></div></div><div class="comments" id="comments"><script defer src="https://utteranc.es/client.js" repo="Dustyposa/utterances_comments" issue-term="pathname" label="âœ¨ğŸ’¬âœ¨" theme="github-light" crossorigin="anonymous"></script></div></div></div></div></div><div class="d-none d-lg-block col-lg-2 toc-container" id="toc-ctn"><div id="toc-start"></div><div id="toc"><p class="h5"><i class="far fa-list-alt"></i>&nbsp;ç›®å½•</p><div id="tocbot"></div></div></div></div></div></main><a class="z-depth-1" id="scroll-top-button" href="#" role="button"><i class="fa fa-chevron-up scroll-top-arrow" aria-hidden="true"></i></a><div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable modal-lg" role="document"><div class="modal-content"><div class="modal-header text-center"><h4 class="modal-title w-100 font-weight-bold">æœç´¢</h4><button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button></div><div class="modal-body mx-3"><div class="md-form mb-5"><input type="text" id="local-search-input" class="form-control validate"> <label data-error="x" data-success="v" for="local-search-input">å…³é”®è¯</label></div><div class="list-group" id="local-search-result"></div></div></div></div></div><footer class="mt-5"><div class="text-center py-3"><div><a href="https://hexo.io" target="_blank" rel="nofollow noopener"><b>Hexo</b></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><b>Fluid</b></a></div></div></footer><script src="https://cdn.staticfile.org/jquery/3.4.1/jquery.min.js"></script><script src="https://cdn.staticfile.org/popper.js/1.16.1/umd/popper.min.js"></script><script src="https://cdn.staticfile.org/twitter-bootstrap/4.4.1/js/bootstrap.min.js"></script><script src="https://cdn.staticfile.org/mdbootstrap/4.13.0/js/mdb.min.js"></script><script src="/js/main.js"></script><script src="/js/lazyload.js"></script><script src="https://cdn.staticfile.org/tocbot/4.10.0/tocbot.min.js"></script><script>$(document).ready((function(){var t=$("#navbar").height(),o=$("#toc"),s=$("#board-ctn"),c=s.offset().top,i=2*c+s.height();$(window).scroll((function(){var s=$("#toc-start").offset().top-t,c=document.body.scrollTop+document.documentElement.scrollTop;s<=c&&c<=i?o.css({display:"block",position:"fixed",top:t}):c<=s?o.css({position:"",top:""}):c>i&&o.css("display","none")})),tocbot.init({tocSelector:"#tocbot",contentSelector:".post-content",headingSelector:"h1,h2,h3,h4,h5,h6",linkClass:"tocbot-link",activeLinkClass:"tocbot-active-link",listClass:"tocbot-list",isCollapsedClass:"tocbot-is-collapsed",collapsibleClass:"tocbot-is-collapsible",scrollSmooth:!0,headingsOffset:-c}),$(".toc-list-item").length>0&&$("#toc > p").css("visibility","visible");var l=s.css("margin-right");$("#toc-ctn").css({right:l})}))</script><script defer src="https://cdn.staticfile.org/clipboard.js/2.0.6/clipboard.min.js"></script><script src="/js/clipboard-use.js"></script><script defer>!function(e,a,t,n,g,c,o){e.GoogleAnalyticsObject="ga",e.ga=e.ga||function(){(e.ga.q=e.ga.q||[]).push(arguments)},e.ga.l=1*new Date,c=a.createElement(t),o=a.getElementsByTagName(t)[0],c.async=1,c.src="https://www.google-analytics.com/analytics.js",o.parentNode.insertBefore(c,o)}(window,document,"script"),ga("create","UA-163481315-1","auto"),ga("send","pageview")</script><script src="https://cdn.staticfile.org/prettify/188.0.0/prettify.min.js"></script><script>$(document).ready((function(){$("pre").addClass("prettyprint  "),prettyPrint()}))</script><script src="https://cdn.staticfile.org/typed.js/2.0.11/typed.min.js"></script><script>var typed=new Typed("#subtitle",{strings:["  ","å¥‡å¦™çš„å¯¹è±¡æ¨¡å‹åŠå­˜å‚¨æ•°æ®æ¨¡å‹çš„æŠ€å·§&nbsp;"],cursorChar:"_",typeSpeed:70,loop:!1});typed.stop(),$(document).ready((function(){$(".typed-cursor").addClass("h2"),typed.start()}))</script><script src="https://cdn.staticfile.org/anchor-js/4.2.2/anchor.min.js"></script><script>anchors.options={placement:"right",visible:"hover",icon:"â¡"};var el="h1,h2,h3,h4,h5,h6".split(","),res=[];for(item of el)res.push(".markdown-body > "+item);anchors.add(res.join(", "))</script><script src="/js/local-search.js"></script><script>var path="/local-search.xml",inputArea=document.querySelector("#local-search-input");inputArea.onclick=function(){getSearchFile(path),this.onclick=null}</script><script defer src="https://cdn.staticfile.org/fancybox/3.5.7/jquery.fancybox.min.js"></script><script>$("#post img:not(.no-zoom img, img[no-zoom])").each((function(){var t=document.createElement("a");$(t).attr("data-fancybox","images"),$(t).attr("href",$(this).attr("src")),$(this).wrap(t)}))</script><script>!function(e,t,a){function r(e){var a=t.createElement("div");a.className="heart",n.push({el:a,x:e.clientX-5,y:e.clientY-5,scale:1,alpha:1,color:"rgb("+~~(255*Math.random())+","+~~(255*Math.random())+","+~~(255*Math.random())+")"}),t.body.appendChild(a)}var n=[];e.requestAnimationFrame=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame||e.msRequestAnimationFrame||function(e){setTimeout(e,1e3/60)},function(e){var a=t.createElement("style");a.type="text/css";try{a.appendChild(t.createTextNode(e))}catch(t){a.styleSheet.cssText=e}t.getElementsByTagName("head")[0].appendChild(a)}(".heart{width: 10px;height: 10px;position: fixed;background: #f00;transform: rotate(45deg);-webkit-transform: rotate(45deg);-moz-transform: rotate(45deg);}.heart:after,.heart:before{content: '';width: inherit;height: inherit;background: inherit;border-radius: 50%;-webkit-border-radius: 50%;-moz-border-radius: 50%;position: fixed;}.heart:after{top: -5px;}.heart:before{left: -5px;}"),function(){var t="function"==typeof e.onclick&&e.onclick;e.onclick=function(e){t&&t(),r(e)}}(),function e(){for(var a=0;a<n.length;a++)n[a].alpha<=0?(t.body.removeChild(n[a].el),n.splice(a,1)):(n[a].y--,n[a].scale+=.004,n[a].alpha-=.013,n[a].el.style.cssText="left:"+n[a].x+"px;top:"+n[a].y+"px;opacity:"+n[a].alpha+";transform:scale("+n[a].scale+","+n[a].scale+") rotate(45deg);background:"+n[a].color+";z-index:99999");requestAnimationFrame(e)}()}(window,document)</script><script src="https://cdn.jsdelivr.net/npm/live2d-widget@^3.1.3/lib/L2Dwidget.min.js"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"scale":1,"hHeadPos":0.5,"vHeadPos":0.618,"jsonPath":"/live2dw/assets/ni-j.model.json"},"display":{"superSample":2,"width":150,"height":300,"position":"right","hOffset":0,"vOffset":-20},"mobile":{"show":true,"scale":0.5},"react":{"opacityDefault":0.7,"opacityOnHover":0.2},"log":false});</script></body></html>